"use strict";(self.webpackChunkhelpr_front=self.webpackChunkhelpr_front||[]).push([[413],{2413:(bt,T,r)=>{r.r(T),r.d(T,{ChamadosModule:()=>xt});var c=r(6895),u=r(9299),h=r(515),t=r(4650),g=r(4843),_=r(4859),Z=r(7392),s=r(3626),Q=r(266),C=r(605),x=r(6116),A=r(3258);function J(e,o){1&e&&(t.TgZ(0,"th",34),t._uU(1,"#"),t.qZA())}function S(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.id)}}function F(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"T\xedtulo"),t.qZA())}function M(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.titulo)}}function D(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Status"),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"td",35),t._UZ(1,"app-status-chip",37),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Q6J("status",a.status)}}function $(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Prioridade"),t.qZA())}function P(e,o){if(1&e&&(t.TgZ(0,"td",35),t._UZ(1,"app-prioridade-chip",38),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Q6J("prioridade",a.prioridade)}}function B(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"Observa\xe7\xf5es"),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.observacoes)}}function k(e,o){1&e&&(t.TgZ(0,"th",36),t._uU(1,"A\xe7\xf5es"),t.qZA())}function L(e,o){if(1&e&&(t.TgZ(0,"td",35)(1,"a",39)(2,"mat-icon"),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"a",40)(5,"mat-icon"),t._uU(6,"visibility_on"),t.qZA()()()),2&e){const a=o.$implicit;t.xp6(1),t.MGl("routerLink","edit/",a.id,""),t.xp6(3),t.s9C("routerLink",a.id)}}function z(e,o){1&e&&t._UZ(0,"tr",41)}function j(e,o){1&e&&t._UZ(0,"tr",42)}function X(e,o){if(1&e&&(t.TgZ(0,"div",18)(1,"h2"),t._uU(2,"Lista de chamados"),t.qZA(),t.TgZ(3,"div",19)(4,"table",20),t.ynx(5,21),t.YNc(6,J,2,0,"th",22),t.YNc(7,S,2,1,"td",23),t.BQk(),t.ynx(8,24),t.YNc(9,F,2,0,"th",25),t.YNc(10,M,2,1,"td",23),t.BQk(),t.ynx(11,26),t.YNc(12,D,2,0,"th",25),t.YNc(13,w,2,1,"td",23),t.BQk(),t.ynx(14,27),t.YNc(15,$,2,0,"th",25),t.YNc(16,P,2,1,"td",23),t.BQk(),t.ynx(17,28),t.YNc(18,B,2,0,"th",25),t.YNc(19,R,2,1,"td",23),t.BQk(),t.ynx(20,29),t.YNc(21,k,2,0,"th",25),t.YNc(22,L,7,2,"td",23),t.BQk(),t.YNc(23,z,1,0,"tr",30),t.YNc(24,j,1,0,"tr",31),t.qZA()(),t.TgZ(25,"div",32)(26,"a",33)(27,"mat-icon"),t._uU(28,"assignment"),t.qZA()()()()),2&e){const a=o.ngIf,n=t.oxw();t.xp6(4),t.Q6J("dataSource",a),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}function H(e,o){1&e&&t._UZ(0,"app-loader",43)}let G=(()=>{class e{constructor(a){this.chamadosService=a,this.chamados$=h.E,this.displayedColumns=["id","titulo","status","prioridade","observacoes","acoes"]}ngOnInit(){this.chamados$=this.chamadosService.findAll()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(g.I))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-chamados"]],decls:24,vars:4,consts:[["class","mat-elevation-z8",4,"ngIf","ngIfElse"],["id","carouselExampleIndicators","data-bs-ride","carousel","data-bs-interval","2000",1,"carousel","slide","mt-3"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","assets/img/1.png","alt","...",1,"d-block","w-100"],[1,"carousel-item"],["src","assets/img/3.png","alt","...",1,"d-block","w-100"],["src","assets/img/5.png","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["loading",""],[1,"mat-elevation-z8"],[1,"table-wrapper"],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","style","min-width: 30px;",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","titulo"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","status"],["matColumnDef","prioridade"],["matColumnDef","observacoes"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"buttonfab"],["mat-fab","","color","accent","routerLink","new"],["mat-header-cell","",2,"min-width","30px"],["mat-cell",""],["mat-header-cell",""],[3,"status"],[3,"prioridade"],["mat-icon-button","","color","primary","matTooltip","Editar chamado",3,"routerLink"],["mat-icon-button","","color","accent","matTooltip","Visualizar",3,"routerLink"],["mat-header-row",""],["mat-row",""],["label","Carregando chamados..."]],template:function(a,n){if(1&a&&(t.YNc(0,X,29,3,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"div",2),t._UZ(4,"button",3)(5,"button",4)(6,"button",5),t.qZA(),t.TgZ(7,"div",6)(8,"div",7),t._UZ(9,"img",8),t.qZA(),t.TgZ(10,"div",9),t._UZ(11,"img",10),t.qZA(),t.TgZ(12,"div",9),t._UZ(13,"img",11),t.qZA()(),t.TgZ(14,"button",12),t._UZ(15,"span",13),t.TgZ(16,"span",14),t._uU(17,"Previous"),t.qZA()(),t.TgZ(18,"button",15),t._UZ(19,"span",16),t.TgZ(20,"span",14),t._uU(21,"Next"),t.qZA()()(),t.YNc(22,H,1,0,"ng-template",null,17,t.W1O)),2&a){const m=t.MAs(23);t.Q6J("ngIf",t.lcZ(1,2,n.chamados$))("ngIfElse",m)}},dependencies:[c.O5,u.yS,_.zs,Z.Hw,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,Q.gM,C.R,x.M,A.w,c.Ov],styles:[".table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.mat-header-cell[_ngcontent-%COMP%]{min-width:100px}.buttonfab[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%;margin-top:15px;padding-bottom:15px;position:sticky;bottom:0;z-index:1}"]}),e})();var i=r(4006),U=r(3404),b=r(3038),q=r(1864),I=r(3238),d=r(9549),N=r(4144),y=r(4385);function W(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function K(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function V(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function tt(e,o){if(1&e&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.nome)}}function et(e,o){if(1&e&&(t.TgZ(0,"mat-option",8),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.nome)}}let at=(()=>{class e{constructor(a,n,m,l,p,v){this.chamadosService=a,this.clientesService=n,this.tecnicosService=m,this.fb=l,this.toast=p,this.router=v,this.clientes$=h.E,this.tecnicos$=h.E,this.chamadoForm=this.fb.group({prioridade:[null,[i.kI.required]],status:[null,[i.kI.required]],titulo:[null,[i.kI.required]],observacoes:[null,[i.kI.required]],tecnico:[null,[i.kI.required]],cliente:[null,[i.kI.required]]})}onSubmit(){const a=this.toast.loading("Adicionando chamado...");this.chamadosService.create(this.chamadoForm.value).subscribe({next:()=>{a.close(),this.toast.success("Chamado adicionado"),this.router.navigate(["chamados"])},error:n=>403===(console.log(n),a.close(),n.status)?this.toast.error("A\xe7\xe3o n\xe3o permitida"):this.toast.error(`Um erro aconteceu: ${n.error.message??""}`)})}ngOnInit(){this.clientes$=this.clientesService.findAll(),this.tecnicos$=this.tecnicosService.findAll()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(g.I),t.Y36(U.Y),t.Y36(b.y),t.Y36(i.QS),t.Y36(q.jE),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-chamado-create"]],decls:62,vars:17,consts:[[1,"container"],[1,"form-wrapper"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","T\xedtulo do chamado","formControlName","titulo","required",""],[4,"ngIf"],["matPrefix",""],["name","status","formControlName","status","required",""],[3,"value"],["name","status","formControlName","prioridade","required",""],["appearance","fill",1,"full-width"],["name","tecnico","formControlName","tecnico","required",""],[3,"value",4,"ngFor","ngForOf"],["name","cliente","formControlName","cliente","required",""],["name","observacoes","formControlName","observacoes","required","","matInput","","placeholder","Ex. trocar bateria de notebook queimada...",1,"observacoes"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"h2"),t._uU(4,"Novo chamado"),t.qZA(),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"T\xedtulo"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,W,2,0,"mat-error",5),t.TgZ(10,"mat-icon",6),t._uU(11,"assignment"),t.qZA()(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Selecione um status"),t.qZA(),t.TgZ(15,"mat-select",7)(16,"mat-option",8),t._uU(17,"ABERTO"),t.qZA(),t.TgZ(18,"mat-option",8),t._uU(19,"EM ANDAMENTO"),t.qZA(),t.TgZ(20,"mat-option",8),t._uU(21,"ENCERRADO"),t.qZA()(),t.YNc(22,K,2,0,"mat-error",5),t.TgZ(23,"mat-icon",6),t._uU(24,"check_circle"),t.qZA()(),t.TgZ(25,"mat-form-field",3)(26,"mat-label"),t._uU(27,"Selecione a prioridade"),t.qZA(),t.TgZ(28,"mat-select",9)(29,"mat-option",8),t._uU(30,"BAIXA"),t.qZA(),t.TgZ(31,"mat-option",8),t._uU(32,"M\xc9DIA"),t.qZA(),t.TgZ(33,"mat-option",8),t._uU(34,"ALTA"),t.qZA()(),t.TgZ(35,"mat-icon",6),t._uU(36,"check_circle"),t.qZA(),t.YNc(37,V,2,0,"mat-error",5),t.qZA(),t.TgZ(38,"mat-form-field",10)(39,"mat-label"),t._uU(40,"Selecione um t\xe9cnico"),t.qZA(),t.TgZ(41,"mat-select",11),t.YNc(42,tt,2,2,"mat-option",12),t.ALo(43,"async"),t.qZA(),t.TgZ(44,"mat-icon",6),t._uU(45,"engineering"),t.qZA()(),t.TgZ(46,"mat-form-field",10)(47,"mat-label"),t._uU(48,"Selecione um cliente"),t.qZA(),t.TgZ(49,"mat-select",13),t.YNc(50,et,2,2,"mat-option",12),t.ALo(51,"async"),t.qZA(),t.TgZ(52,"mat-icon",6),t._uU(53,"people"),t.qZA()(),t.TgZ(54,"mat-form-field",10)(55,"mat-label"),t._uU(56,"Deixe uma observa\xe7\xe3o"),t.qZA(),t._UZ(57,"textarea",14),t.TgZ(58,"mat-icon",6),t._uU(59,"assignment"),t.qZA()(),t.TgZ(60,"button",15),t._uU(61," Criar "),t.qZA()()()()),2&a){let m,l,p;t.xp6(2),t.Q6J("formGroup",n.chamadoForm),t.xp6(7),t.Q6J("ngIf",null==(m=n.chamadoForm.get("titulo"))||null==m.errors?null:m.errors.required),t.xp6(7),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf",null==(l=n.chamadoForm.get("status"))||null==l.errors?null:l.errors.required),t.xp6(7),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(4),t.Q6J("ngIf",null==(p=n.chamadoForm.get("prioridade"))||null==p.errors?null:p.errors.required),t.xp6(5),t.Q6J("ngForOf",t.lcZ(43,13,n.tecnicos$)),t.xp6(8),t.Q6J("ngForOf",t.lcZ(51,15,n.clientes$)),t.xp6(10),t.Q6J("disabled",n.chamadoForm.invalid)}},dependencies:[c.sg,c.O5,I.ey,_.lW,Z.Hw,d.TO,d.KE,d.hX,d.qo,N.Nt,y.gD,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,c.Ov],styles:[".container[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:center}.form-wrapper[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003,0 6px 20px #00000030;padding:50px;border-radius:20px}button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}"]}),e})();var E=r(1481),f=r(3546);function ot(e,o){if(1&e&&(t.TgZ(0,"p")(1,"b"),t._uU(2,"Fechou em:"),t.qZA(),t._uU(3),t.qZA()),2&e){const a=t.oxw(2);t.xp6(3),t.hij(" ",a.chamado.dataFechamento," ")}}function nt(e,o){if(1&e&&(t.TgZ(0,"div")(1,"mat-card",2)(2,"mat-card-title"),t._uU(3),t.qZA(),t.TgZ(4,"mat-card-subtitle"),t._uU(5),t.qZA(),t.TgZ(6,"mat-card-content")(7,"p")(8,"b"),t._uU(9,"Observa\xe7\xf5es:"),t.qZA(),t._uU(10),t.qZA(),t.TgZ(11,"p")(12,"b"),t._uU(13,"T\xe9cnico:"),t.qZA(),t._uU(14),t.qZA(),t.YNc(15,ot,4,1,"p",3),t.TgZ(16,"p")(17,"b"),t._uU(18,"Prioridade:"),t.qZA(),t._UZ(19,"app-prioridade-chip",4),t.qZA(),t.TgZ(20,"p")(21,"b"),t._uU(22,"Status:"),t.qZA(),t._UZ(23,"app-status-chip",5),t.qZA()()()()),2&e){const a=t.oxw();t.xp6(3),t.AsE("#",a.chamado.id," ",a.chamado.titulo,""),t.xp6(2),t.AsE(" ",a.chamado.nomeCliente," | ",a.chamado.dataAbertura," "),t.xp6(5),t.hij(" ",a.chamado.observacoes,""),t.xp6(4),t.hij(" ",a.chamado.nomeTecnico,""),t.xp6(1),t.Q6J("ngIf",a.chamado.dataFechamento),t.xp6(4),t.Q6J("prioridade",a.chamado.prioridade),t.xp6(4),t.Q6J("status",a.chamado.status)}}function it(e,o){1&e&&t._UZ(0,"app-loader",7)}function rt(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Oqu(a.errorMsg)}}function mt(e,o){if(1&e&&(t.YNc(0,it,1,0,"app-loader",6),t.YNc(1,rt,2,1,"p",3)),2&e){const a=t.oxw();t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",a.error)}}let lt=(()=>{class e{constructor(a,n,m){this.chamadosService=a,this.route=n,this.titleService=m,this.errorMsg="",this.error=!1,this.loading=!0,this.chamado={}}ngOnInit(){this.chamadosService.findById(this.route.snapshot.params.id).subscribe({next:n=>{this.chamado=n,this.loading=!1,this.titleService.setTitle("Detalhes do chamado")},error:n=>{this.errorMsg=n.error.message,this.errorMsg||(this.errorMsg="Um erro aconteceu"),this.error=!0,this.loading=!1}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(g.I),t.Y36(u.gz),t.Y36(E.Dx))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-chamado-detail"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loadingOrError",""],[1,"example-card"],[4,"ngIf"],[3,"prioridade"],[3,"status"],["label","Carregando chamado...",4,"ngIf"],["label","Carregando chamado..."]],template:function(a,n){if(1&a&&(t.YNc(0,nt,24,9,"div",0),t.YNc(1,mt,2,2,"ng-template",null,1,t.W1O)),2&a){const m=t.MAs(2);t.Q6J("ngIf",!n.loading&&!n.error)("ngIfElse",m)}},dependencies:[c.O5,f.a8,f.dn,f.n5,f.$j,C.R,x.M,A.w]}),e})();var Y=r(1005),O=r(8505);function ct(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function st(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function dt(e,o){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Campo obrigat\xf3rio"),t.qZA())}function ut(e,o){if(1&e&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.nome)}}function pt(e,o){if(1&e&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.Q6J("value",a.id),t.xp6(1),t.Oqu(a.nome)}}function ht(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",4)(1,"form",5),t.NdJ("ngSubmit",function(){t.CHM(a);const m=t.oxw();return t.KtG(m.onSubmit())}),t.TgZ(2,"h2"),t._uU(3,"Editar chamado"),t.qZA(),t.TgZ(4,"mat-form-field",6)(5,"mat-label"),t._uU(6,"T\xedtulo"),t.qZA(),t._UZ(7,"input",7),t.YNc(8,ct,2,0,"mat-error",8),t.TgZ(9,"mat-icon",9),t._uU(10,"assignment"),t.qZA()(),t.TgZ(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Selecione um status"),t.qZA(),t.TgZ(14,"mat-select",10)(15,"mat-option",11),t._uU(16,"ABERTO"),t.qZA(),t.TgZ(17,"mat-option",11),t._uU(18,"EM ANDAMENTO"),t.qZA(),t.TgZ(19,"mat-option",11),t._uU(20,"ENCERRADO"),t.qZA()(),t.YNc(21,st,2,0,"mat-error",8),t.TgZ(22,"mat-icon",9),t._uU(23,"check_circle"),t.qZA()(),t.TgZ(24,"mat-form-field",6)(25,"mat-label"),t._uU(26,"Selecione a prioridade"),t.qZA(),t.TgZ(27,"mat-select",12)(28,"mat-option",11),t._uU(29,"BAIXA"),t.qZA(),t.TgZ(30,"mat-option",11),t._uU(31,"M\xc9DIA"),t.qZA(),t.TgZ(32,"mat-option",11),t._uU(33,"ALTA"),t.qZA()(),t.TgZ(34,"mat-icon",9),t._uU(35,"check_circle"),t.qZA(),t.YNc(36,dt,2,0,"mat-error",8),t.qZA(),t.TgZ(37,"mat-form-field",13)(38,"mat-label"),t._uU(39,"Selecione um t\xe9cnico"),t.qZA(),t.TgZ(40,"mat-select",14),t.YNc(41,ut,2,2,"mat-option",15),t.ALo(42,"async"),t.qZA(),t.TgZ(43,"mat-icon",9),t._uU(44,"engineering"),t.qZA()(),t.TgZ(45,"mat-form-field",13)(46,"mat-label"),t._uU(47,"Selecione um cliente"),t.qZA(),t.TgZ(48,"mat-select",16),t.YNc(49,pt,2,2,"mat-option",15),t.ALo(50,"async"),t.qZA(),t.TgZ(51,"mat-icon",9),t._uU(52,"people"),t.qZA()(),t.TgZ(53,"mat-form-field",13)(54,"mat-label"),t._uU(55,"Deixe uma observa\xe7\xe3o"),t.qZA(),t._UZ(56,"textarea",17),t.TgZ(57,"mat-icon",9),t._uU(58,"assignment"),t.qZA()(),t.TgZ(59,"button",18),t._uU(60," Editar "),t.qZA()()()}if(2&e){const a=t.oxw();let n,m,l;t.xp6(1),t.Q6J("formGroup",a.chamadoForm),t.xp6(7),t.Q6J("ngIf",null==(n=a.chamadoForm.get("titulo"))||null==n.errors?null:n.errors.required),t.xp6(7),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(2),t.Q6J("ngIf",null==(m=a.chamadoForm.get("status"))||null==m.errors?null:m.errors.required),t.xp6(7),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(2),t.Q6J("value",2),t.xp6(4),t.Q6J("ngIf",null==(l=a.chamadoForm.get("prioridade"))||null==l.errors?null:l.errors.required),t.xp6(5),t.Q6J("ngForOf",t.lcZ(42,13,a.tecnicos$)),t.xp6(8),t.Q6J("ngForOf",t.lcZ(50,15,a.clientes$)),t.xp6(10),t.Q6J("disabled",a.chamadoForm.invalid||!1===a.resultadoCliente&&!1===a.resultadoTecnico)}}function gt(e,o){1&e&&t._UZ(0,"app-loader",20)}function ft(e,o){if(1&e&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&e){const a=t.oxw(2);t.xp6(1),t.Oqu(a.errorMsg)}}function _t(e,o){if(1&e&&(t.YNc(0,gt,1,0,"app-loader",19),t.YNc(1,ft,2,1,"p",8)),2&e){const a=t.oxw();t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",a.error)}}const Zt=[{path:"",component:G},{path:"new",component:at},{path:":id",component:lt},{path:"edit/:id",component:(()=>{class e{constructor(a,n,m,l,p,v,At,Ut){this.clientesService=a,this.tecnicosService=n,this.chamadosService=m,this.toast=l,this.router=p,this.route=v,this.fb=At,this.titleService=Ut,this.clientes$=h.E,this.tecnicos$=h.E,this.errorMsg="",this.error=!1,this.loading=!0,this.chamadoForm=this.fb.group({id:[null],prioridade:[null,[i.kI.required]],status:[null,[i.kI.required]],titulo:[null,[i.kI.required]],observacoes:[null,[i.kI.required]],tecnico:[null,[i.kI.required]],cliente:[null,[i.kI.required]]}),this.resultadoCliente=!1,this.resultadoTecnico=!1}onSubmit(){const a=this.toast.loading("Atualizando chamado...");this.chamadosService.update(this.chamadoForm.value).subscribe({next:()=>{a.close(),this.toast.success("Chamado atualizado!"),this.router.navigate(["chamados"])},error:n=>403===(a.close(),n.status)?this.toast.error("A\xe7\xe3o n\xe3o permitida"):this.toast.error(`Um erro aconteceu: ${n.error.message??""}`)})}ngOnInit(){this.clientes$=this.clientesService.findAll().pipe((0,Y.g)(500),(0,O.b)(()=>{this.resultadoCliente=!0})),this.tecnicos$=this.tecnicosService.findAll().pipe((0,Y.g)(500),(0,O.b)(()=>{this.resultadoCliente=!0})),this.chamadosService.findById(this.route.snapshot.params.id).subscribe({next:n=>{this.chamadoForm.patchValue(n),this.loading=!1,this.titleService.setTitle("Editar chamado")},error:n=>{this.errorMsg=n.error.message,this.errorMsg||(this.errorMsg="Um erro aconteceu"),this.error=!0,this.loading=!1}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(U.Y),t.Y36(b.y),t.Y36(g.I),t.Y36(q.jE),t.Y36(u.F0),t.Y36(u.gz),t.Y36(i.QS),t.Y36(E.Dx))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-chamado-update"]],decls:5,vars:2,consts:[[1,"reduction"],["id","q1",1,"img"],["class","form-wrapper container",4,"ngIf","ngIfElse"],["loadingOrError",""],[1,"form-wrapper","container"],[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","placeholder","T\xedtulo do chamado","formControlName","titulo","required",""],[4,"ngIf"],["matPrefix",""],["name","status","formControlName","status","required",""],[3,"value"],["name","status","formControlName","prioridade","required",""],["appearance","fill",1,"full-width"],["name","tecnico","formControlName","tecnico","required",""],[3,"value",4,"ngFor","ngForOf"],["name","cliente","formControlName","cliente","required",""],["name","observacoes","formControlName","observacoes","required","","matInput","","placeholder","Ex. trocar bateria de notebook queimada...",1,"observacoes"],["mat-raised-button","","color","primary",3,"disabled"],["label","Carregando registro de chamado...",4,"ngIf"],["label","Carregando registro de chamado..."]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.YNc(2,ht,61,17,"div",2),t.qZA(),t.YNc(3,_t,2,2,"ng-template",null,3,t.W1O)),2&a){const m=t.MAs(4);t.xp6(2),t.Q6J("ngIf",!n.loading&&!n.error)("ngIfElse",m)}},dependencies:[c.sg,c.O5,I.ey,_.lW,Z.Hw,d.TO,d.KE,d.hX,d.qo,N.Nt,y.gD,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.sg,i.u,C.R,c.Ov],styles:[".container[_ngcontent-%COMP%]{display:flex;margin-left:72%;padding-top:0;padding-bottom:0}div.img[_ngcontent-%COMP%]{background-image:url(https://github.com/victoricoma/helpr/blob/main/img/outsiteBanner/4.png?raw=true);background-size:cover;float:left;width:75%;height:89.5vh}div#q1[_ngcontent-%COMP%]{width:65%;background-position:center center}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 900px){.reduction[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column}.container[_ngcontent-%COMP%]{margin-left:0}div.img[_ngcontent-%COMP%]{background-image:none;display:none}}"]}),e})()}];let Ct=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(Zt),u.Bz]}),e})();var vt=r(1003),Tt=r(4466);let xt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,Ct,vt.q,i.UX,Tt.m]}),e})()}}]);